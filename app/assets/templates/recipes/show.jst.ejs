<h2><%= recipe.escape("name") %></h2>
<h3><%= recipe.escape("style") %></h3>
<h4>By: <a href="/#/users/<%= recipe.escape("author_id") %>"><%= recipe.escape("author_username") %></a></h4>

<img src="<%= recipe.escape("image_url") %>">

<ul>Stated Recipe Stats
  <li>Yield: <%= recipe.attributes.yield ? recipe.escape("yield") : "pending" %></li>
  <li>Original Gravity: <%= recipe.attributes.original_grav ? recipe.escape("original_grav") : "pending" %></li>
  <li>Final Gravity: <%= recipe.attributes.final_grav ? recipe.escape("final_grav") : "pending" %></li>
  <li>ABV: <%= recipe.attributes.abv ? recipe.escape("abv") : "pending" %></li>
  <li>IBUs: <%= recipe.attributes.ibus ? recipe.escape("ibus") : "pending" %></li>
</ul>

<ul>Experimental Recipe Stats
  <li>Yield: <%= recipe.attributes.avg_yield ? recipe.escape("avg_yield") : "pending" %></li>
  <li>Original Gravity: <%= recipe.attributes.avg_o_grav ? recipe.escape("avg_o_grav") : "pending" %></li>
  <li>Final Gravity: <%= recipe.attributes.avg_f_grav ? recipe.escape("avg_f_grav") : "pending" %></li>
  <li>ABV: <%= recipe.attributes.avg_abv ? recipe.escape("avg_abv") : "pending" %></li>
  <li>IBUs: <%= recipe.attributes.avg_ibus ? recipe.escape("avg_ibus") : "pending" %></li>
</ul>

<ul>Ingredients
  <% recipe.attributes.recipe_ingredients && recipe.attributes.recipe_ingredients.forEach(function(rec_ing){ %>
    <li><%= rec_ing.amount %> <%= rec_ing.units %> <%= rec_ing.ingredient_name %></li>
  <% }); %>
</ul>

<p><%= recipe.escape("description") %></p>

<ul>Users following this recipe
  <% recipe.attributes.users && recipe.attributes.users.forEach(function(user){ %>
    <li><a href="/#/users/<%= user.id %>"><%= user.username %></a></li>
  <% }); %>
</ul>

<ul>Registered batches
  <% recipe.attributes.batches && recipe.attributes.batches.forEach(function(batch){ %>
    <li><a href="/#/recipes/<%= recipe.id %>/batches/<%= batch.id %>"><%= batch.user_username %>, <%= batch.brew_date%></a></li>
  <% }); %>
</ul>
